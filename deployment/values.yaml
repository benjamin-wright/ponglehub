global:
  # keycloakUser:
  # keycloakPassword:

keycloak:
  enabled: true
  extraEnv: |
    - name: PROXY_ADDRESS_FORWARDING
      value: "true"
    - name: KEYCLOAK_LOGLEVEL
      value: "DEBUG"
    - name: KEYCLOAK_USER
      value: {{ .Values.global.keycloakUser }}
    - name: KEYCLOAK_PASSWORD
      value: {{ .Values.global.keycloakPassword }}

keycloakInit:
  name: keycloak-init
  image: keycloak-init
  env: |
    - name: KEYCLOAK_INIT_URL
      value: http://ponglehub-keycloak-http
    - name: KEYCLOAK_INIT_REALM
      value: ponglehub
    - name: KEYCLOAK_INIT_USER
      value: {{ .Values.global.keycloakUser }}
    - name: KEYCLOAK_INIT_PASSWORD
      value: {{ .Values.global.keycloakPassword }}
  initContainers:
  - name: wait
    image: wait-for-service
    env: |
      - name: WAIT_FOR_URL
        value: http://ponglehub-keycloak-http/auth/
      - name: WAIT_FOR_INTERVAL
        value: "10"
      - name: WAIT_FOR_TIMEOUT
        value: "300"
